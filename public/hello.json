// OPTION 1: Update your frontend to use static JSON file instead of API endpoint

// 1. Create a file named "hello.json" in the public directory:
// public/hello.json
{
  "message": "Hello from AWS Amplify!"
}

// 2. Modify the fetch in index.html to use this static file:
document.getElementById('fetch-btn').addEventListener('click', async () => {
    try {
        const response = await fetch('/hello.json');
        const data = await response.json();
        document.getElementById('message').textContent = data.message;
    } catch (error) {
        console.error('Error fetching message:', error);
        document.getElementById('message').textContent = 'Error fetching message';
    }
});


// OPTION 2: Use AWS Amplify's backend services with AWS Lambda

// 1. Install Amplify CLI
// npm install -g @aws-amplify/cli

// 2. Initialize Amplify in your project
// amplify init

// 3. Add API functionality
// amplify add api

// 4. Create Lambda function for your API
// e.g., amplify/backend/function/helloFunction/src/index.js:
exports.handler = async (event) => {
    const response = {
        statusCode: 200,
        headers: {
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Headers": "*"
        }, 
        body: JSON.stringify({ message: "Hello from AWS Amplify!" }),
    };
    return response;
};

// 5. Update your frontend code to use the Amplify API:
// import { API } from 'aws-amplify';

document.getElementById('fetch-btn').addEventListener('click', async () => {
    try {
        const data = await API.get('helloApi', '/hello');
        document.getElementById('message').textContent = data.message;
    } catch (error) {
        console.error('Error fetching message:', error);
        document.getElementById('message').textContent = 'Error fetching message';
    }
});
